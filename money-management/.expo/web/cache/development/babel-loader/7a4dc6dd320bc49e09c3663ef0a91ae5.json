{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\react native\\\\money-management-project\\\\money-management\\\\components\\\\Search\\\\Search.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport financeServices from \"../../services/financeServices\";\nimport styles from \"./Search.styles\";\nimport * as searchServices from \"./Search.services\";\nimport MaterialCommunityIcons from \"@expo/vector-icons/MaterialCommunityIcons\";\n\nvar Search = function Search(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      autocompleteNames = _useState2[0],\n      setAutocompleteNames = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      watchList = _useState4[0],\n      setWatchList = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      searchTerm = _useState6[0],\n      setSearchTerm = _useState6[1];\n\n  function setAutocompleteNamesHandler(searchTerm) {\n    return _regeneratorRuntime.async(function setAutocompleteNamesHandler$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setSearchTerm(searchTerm);\n            _context.t0 = setWatchList;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(searchServices.getWatchList());\n\n          case 4:\n            _context.t1 = _context.sent;\n            (0, _context.t0)(_context.t1);\n            _context.t2 = setAutocompleteNames;\n            _context.next = 9;\n            return _regeneratorRuntime.awrap(financeServices.getAutoCompleteData(searchTerm));\n\n          case 9:\n            _context.t3 = _context.sent;\n            (0, _context.t2)(_context.t3);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function addOrRemoveFromWatchListSymbol(symbol) {\n    if (watchList === null) {\n      return React.createElement(MaterialCommunityIcons, {\n        name: \"plus-circle\",\n        color: \"black\",\n        size: 26,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 9\n        }\n      });\n    } else if (watchList[symbol] !== undefined) return React.createElement(MaterialCommunityIcons, {\n      name: \"minus-circle\",\n      color: \"black\",\n      size: 26,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }\n    });else if (watchList[symbol] === undefined) {\n      return React.createElement(MaterialCommunityIcons, {\n        name: \"plus-circle\",\n        color: \"black\",\n        size: 26,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 9\n        }\n      });\n    }\n  }\n\n  function addToWatchListHandler(symbol) {\n    return _regeneratorRuntime.async(function addToWatchListHandler$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(searchServices.addToWatchList(symbol));\n\n          case 2:\n            setAutocompleteNamesHandler(searchTerm);\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    keyboardShouldPersistTaps: \"handled\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, React.createElement(TextInput, {\n    style: styles.textInput,\n    placeholder: \" Search term\",\n    placeholderTextColor: \"#788793\",\n    onChangeText: setAutocompleteNamesHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }), React.createElement(FlatList, {\n    data: autocompleteNames,\n    keyboardShouldPersistTaps: \"always\",\n    renderItem: function renderItem(itemData) {\n      return React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          navigation.navigate(\"SharePage\", {\n            symbol: itemData.item.symbol\n          });\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        key: itemData.item.name,\n        style: styles.shareCardData,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.alanyticView,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: styles.itemCardText,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      }, itemData.item.symbol), React.createElement(Text, {\n        style: styles.itemCardText,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }\n      }, itemData.item.name), React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          addToWatchListHandler(itemData.item.symbol);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }\n      }, addOrRemoveFromWatchListSymbol(itemData.item.symbol)))));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Search;","map":{"version":3,"sources":["D:/react native/money-management-project/money-management/components/Search/Search.js"],"names":["React","useState","financeServices","styles","searchServices","MaterialCommunityIcons","Search","navigation","autocompleteNames","setAutocompleteNames","watchList","setWatchList","searchTerm","setSearchTerm","setAutocompleteNamesHandler","getWatchList","getAutoCompleteData","addOrRemoveFromWatchListSymbol","symbol","undefined","addToWatchListHandler","addToWatchList","container","textInput","itemData","navigate","item","name","shareCardData","alanyticView","itemCardText"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;;;;;;AASA,OAAOC,eAAP;AACA,OAAOC,MAAP;AACA,OAAO,KAAKC,cAAZ;AACA,OAAOC,sBAAP;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,OAAoB;AAAA,MAAjBC,UAAiB,QAAjBA,UAAiB;;AACjC,kBAAkDN,QAAQ,CAAC,EAAD,CAA1D;AAAA;AAAA,MAAOO,iBAAP;AAAA,MAA0BC,oBAA1B;;AACA,mBAAkCR,QAAQ,CAAC,EAAD,CAA1C;AAAA;AAAA,MAAOS,SAAP;AAAA,MAAkBC,YAAlB;;AACA,mBAAoCV,QAAQ,CAAC,EAAD,CAA5C;AAAA;AAAA,MAAOW,UAAP;AAAA,MAAmBC,aAAnB;;AAEA,WAAeC,2BAAf,CAA2CF,UAA3C;AAAA;AAAA;AAAA;AAAA;AACEC,YAAAA,aAAa,CAACD,UAAD,CAAb;AADF,0BAEED,YAFF;AAAA;AAAA,6CAEqBP,cAAc,CAACW,YAAf,EAFrB;;AAAA;AAAA;AAAA;AAAA,0BAIEN,oBAJF;AAAA;AAAA,6CAI6BP,eAAe,CAACc,mBAAhB,CAAoCJ,UAApC,CAJ7B;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAOA,WAASK,8BAAT,CAAwCC,MAAxC,EAAgD;AAC9C,QAAIR,SAAS,KAAK,IAAlB,EAAwB;AACtB,aACE,oBAAC,sBAAD;AAAwB,QAAA,IAAI,EAAC,aAA7B;AAA2C,QAAA,KAAK,EAAE,OAAlD;AAA2D,QAAA,IAAI,EAAE,EAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAGD,KAJD,MAIO,IAAIA,SAAS,CAACQ,MAAD,CAAT,KAAsBC,SAA1B,EACL,OACE,oBAAC,sBAAD;AAAwB,MAAA,IAAI,EAAC,cAA7B;AAA4C,MAAA,KAAK,EAAE,OAAnD;AAA4D,MAAA,IAAI,EAAE,EAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADK,KAIF,IAAIT,SAAS,CAACQ,MAAD,CAAT,KAAsBC,SAA1B,EAAqC;AACxC,aACE,oBAAC,sBAAD;AAAwB,QAAA,IAAI,EAAC,aAA7B;AAA2C,QAAA,KAAK,EAAE,OAAlD;AAA2D,QAAA,IAAI,EAAE,EAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAGD;AACF;;AACD,WAAeC,qBAAf,CAAqCF,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACQd,cAAc,CAACiB,cAAf,CAA8BH,MAA9B,CADR;;AAAA;AAEEJ,YAAAA,2BAA2B,CAACF,UAAD,CAA3B;;AAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKA,SACE,oBAAC,YAAD;AACE,IAAA,KAAK,EAAET,MAAM,CAACmB,SADhB;AAEE,IAAA,yBAAyB,EAAE,SAF7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAEnB,MAAM,CAACoB,SADhB;AAEE,IAAA,WAAW,EAAC,cAFd;AAGE,IAAA,oBAAoB,EAAC,SAHvB;AAIE,IAAA,YAAY,EAAET,2BAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EAUE,oBAAC,QAAD;AACE,IAAA,IAAI,EAAEN,iBADR;AAEE,IAAA,yBAAyB,EAAC,QAF5B;AAGE,IAAA,UAAU,EAAE,oBAACgB,QAAD;AAAA,aACV,oBAAC,gBAAD;AACE,QAAA,OAAO,EAAE,mBAAM;AACbjB,UAAAA,UAAU,CAACkB,QAAX,CAAoB,WAApB,EAAiC;AAC/BP,YAAAA,MAAM,EAAEM,QAAQ,CAACE,IAAT,CAAcR;AADS,WAAjC;AAGD,SALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOE,oBAAC,IAAD;AAAM,QAAA,GAAG,EAAEM,QAAQ,CAACE,IAAT,CAAcC,IAAzB;AAA+B,QAAA,KAAK,EAAExB,MAAM,CAACyB,aAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEzB,MAAM,CAAC0B,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE1B,MAAM,CAAC2B,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmCN,QAAQ,CAACE,IAAT,CAAcR,MAAjD,CADF,EAEE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEf,MAAM,CAAC2B,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmCN,QAAQ,CAACE,IAAT,CAAcC,IAAjD,CAFF,EAGE,oBAAC,gBAAD;AACE,QAAA,OAAO,EAAE,mBAAM;AACbP,UAAAA,qBAAqB,CAACI,QAAQ,CAACE,IAAT,CAAcR,MAAf,CAArB;AACD,SAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKGD,8BAA8B,CAACO,QAAQ,CAACE,IAAT,CAAcR,MAAf,CALjC,CAHF,CADF,CAPF,CADU;AAAA,KAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADF;AAwCD,CAxED;;AA0EA,eAAeZ,MAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  View,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  Text,\r\n  SafeAreaView,\r\n  FlatList,\r\n} from \"react-native\";\r\nimport financeServices from \"../../services/financeServices\";\r\nimport styles from \"./Search.styles\";\r\nimport * as searchServices from \"./Search.services\";\r\nimport MaterialCommunityIcons from \"react-native-vector-icons/MaterialCommunityIcons\";\r\n\r\nconst Search = ({ navigation }) => {\r\n  const [autocompleteNames, setAutocompleteNames] = useState([]);\r\n  const [watchList, setWatchList] = useState({});\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n\r\n  async function setAutocompleteNamesHandler(searchTerm) {\r\n    setSearchTerm(searchTerm);\r\n    setWatchList(await searchServices.getWatchList());\r\n\r\n    setAutocompleteNames(await financeServices.getAutoCompleteData(searchTerm));\r\n  }\r\n\r\n  function addOrRemoveFromWatchListSymbol(symbol) {\r\n    if (watchList === null) {\r\n      return (\r\n        <MaterialCommunityIcons name=\"plus-circle\" color={\"black\"} size={26} />\r\n      );\r\n    } else if (watchList[symbol] !== undefined)\r\n      return (\r\n        <MaterialCommunityIcons name=\"minus-circle\" color={\"black\"} size={26} />\r\n      );\r\n    else if (watchList[symbol] === undefined) {\r\n      return (\r\n        <MaterialCommunityIcons name=\"plus-circle\" color={\"black\"} size={26} />\r\n      );\r\n    }\r\n  }\r\n  async function addToWatchListHandler(symbol) {\r\n    await searchServices.addToWatchList(symbol);\r\n    setAutocompleteNamesHandler(searchTerm);\r\n  }\r\n\r\n  return (\r\n    <SafeAreaView\r\n      style={styles.container}\r\n      keyboardShouldPersistTaps={\"handled\"}\r\n    >\r\n      <TextInput\r\n        style={styles.textInput}\r\n        placeholder=\" Search term\"\r\n        placeholderTextColor=\"#788793\"\r\n        onChangeText={setAutocompleteNamesHandler}\r\n      />\r\n      <FlatList\r\n        data={autocompleteNames}\r\n        keyboardShouldPersistTaps=\"always\"\r\n        renderItem={(itemData) => (\r\n          <TouchableOpacity\r\n            onPress={() => {\r\n              navigation.navigate(\"SharePage\", {\r\n                symbol: itemData.item.symbol,\r\n              });\r\n            }}\r\n          >\r\n            <View key={itemData.item.name} style={styles.shareCardData}>\r\n              <View style={styles.alanyticView}>\r\n                <Text style={styles.itemCardText}>{itemData.item.symbol}</Text>\r\n                <Text style={styles.itemCardText}>{itemData.item.name}</Text>\r\n                <TouchableOpacity\r\n                  onPress={() => {\r\n                    addToWatchListHandler(itemData.item.symbol);\r\n                  }}\r\n                >\r\n                  {addOrRemoveFromWatchListSymbol(itemData.item.symbol)}\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </TouchableOpacity>\r\n        )}\r\n      />\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n"]},"metadata":{},"sourceType":"module"}